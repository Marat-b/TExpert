<div class="page-header">
    <h2>Список документов</h2>
</div>
<div class="container-fluid">
    <div ng-controller="DocumentCtrl">
        <div class="row">
            
            <div class="form-group">
                <label class="control-label col-md-2">Начальная дата</label>
                <div class="col-md-3">
                    <p class="input-group">
                        <input type="text" class="form-control" ng-model="beginDate" uib-datepicker-popup="dd.MM.yyyy" 
                               is-open="openedBDT"
                               close-text="Закрыть" current-text="Сегодня" clear-text="Очистить" datepicker-options="dateOptions"
                               placeholder="Дата в формате - дд.мм.гггг"/>
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="openBDT($event)">
<i class="glyphicon glyphicon-calendar"></i>
</button>
                        </span>
                    </p>
                </div>

                <label class="control-label  col-md-2">Конечная дата</label>
                <div class="col-md-3">
                    <p class="input-group">
                        <input type="text" class="form-control" ng-model="endDate" uib-datepicker-popup="dd.MM.yyyy"
                               is-open="openedEDT"
                               close-text="Закрыть" current-text="Сегодня" clear-text="Очистить" datepicker-options="dateOptions"
                               placeholder="Дата в формате - дд.мм.гггг"/>
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="openEDT($event)">
<i class="glyphicon glyphicon-calendar"></i>
</button>
                        </span>
                    </p>
                </div>
                <div class="col-md-2">
                    <button type="button" class="btn btn-primary" ng-click="getDocument()">Список</button>
                </div>
            </div>


            <div class="form-group-lg">
                <div class="col-lg-12">
                    <uib-pagination total-items="bigTotalItems" ng-model="bigCurrentPage" max-size="maxSize"
                                    class="pagination-sm"
                                    boundary-links="true" rotate="false" items-per-page="itemsPerPage"
                                    previous-text="Предыдущий" next-text="Следующий" first-text="Первый"
                                    last-text="Последний"></uib-pagination>

                </div>
            </div>
            <div class="form-group-lg">
                <div class="col-lg-12">
                    <table class="table table-hover">
                        <thead>
                        <th>Номер документа</th>
                        <th>ID заявки</th>
                        <th>Наименование</th>
                        <th>Серийный номер</th>
                        <th>Инвентарный номер</th>
                        <th>Дата формирования</th>
                        <th>Автор</th>
                        <th></th>
                        </thead>
                        <tr ng-repeat="item in documentList">
                            <td>{{item.NumberExp}}</td>
                            <td>{{item.RequestId}}</td>
                            <td>{{item.Name}}</td>
                            <td>{{item.SerialNumber}}</td>
                            <td>{{item.InventoryNumber}}</td>
                            <td>{{item.DateExp | date: 'dd.MM.yyyy'}}</td>
                            <td>{{item.Staff}}</td>
                            <td>
                                <a class="btn btn-circle btn-info" ng-href="api/PDFDocument/{{item.ExpertiseId}}" target="_blank" uib-tooltip="Формирование PDF документа" tooltip-trigger="mouseenter"><i class="glyphicon glyphicon-file"></i></a>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

        </div>
    </div>
</div>


@section Scripts {

    @Scripts.Render("~/bundles/texp-document-list")
}